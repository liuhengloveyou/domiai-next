(()=>{var e={};e.id=466,e.ids=[466],e.modules={408:(e,a,t)=>{Promise.resolve().then(t.bind(t,44289))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20176:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>O,dynamic:()=>Q});var s=t(60554),r=t(60563),i=t(71726),n=t(65656),o=t(40446),c=t(45789),d=t(99768),l=t(41359),p=t(13529),u=t(90263),m=t(71885),h=t(93896),x=t(75646),g="Switch",[v,y]=(0,p.A)(g),[b,f]=v(g),j=r.forwardRef((e,a)=>{let{__scopeSwitch:t,name:i,checked:n,defaultChecked:o,required:c,disabled:p,value:m="on",onCheckedChange:h,form:g,...v}=e,[y,f]=r.useState(null),j=(0,l.s)(a,e=>f(e)),w=r.useRef(!1),k=!y||g||!!y.closest("form"),[P=!1,S]=(0,u.i)({prop:n,defaultProp:o,onChange:h});return(0,s.jsxs)(b,{scope:t,checked:P,disabled:p,children:[(0,s.jsx)(x.sG.button,{type:"button",role:"switch","aria-checked":P,"aria-required":c,"data-state":N(P),"data-disabled":p?"":void 0,disabled:p,value:m,...v,ref:j,onClick:(0,d.m)(e.onClick,e=>{S(e=>!e),k&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),k&&(0,s.jsx)(C,{control:y,bubbles:!w.current,name:i,value:m,checked:P,required:c,disabled:p,form:g,style:{transform:"translateX(-100%)"}})]})});j.displayName=g;var w="SwitchThumb",k=r.forwardRef((e,a)=>{let{__scopeSwitch:t,...r}=e,i=f(w,t);return(0,s.jsx)(x.sG.span,{"data-state":N(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a})});k.displayName=w;var C=e=>{let{control:a,checked:t,bubbles:i=!0,...n}=e,o=r.useRef(null),c=(0,m.Z)(t),d=(0,h.X)(a);return r.useEffect(()=>{let e=o.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==t&&a){let s=new Event("click",{bubbles:i});a.call(e,t),e.dispatchEvent(s)}},[c,t,i]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return e?"checked":"unchecked"}var P=t(83481);function S({className:e,...a}){return(0,s.jsx)(j,{"data-slot":"switch",className:(0,P.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,s.jsx)(k,{"data-slot":"switch-thumb",className:(0,P.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var A=t(97110),V=t(70400),_=t(63436),E=t(10187),K=t(26099),R=t(4273),I=t(57480),q=t(79169),T=t(37784),D=t(29203),W=t(63490),z=t(43283),F=t(58805),G=t(13989),J=t(86244);let Q="force-dynamic",Z=[{code:"zh-CN",nameKey:"chinese"},{code:"en-US",nameKey:"english"},{code:"ja-JP",nameKey:"japanese"},{code:"ko-KR",nameKey:"korean"},{code:"es-ES",nameKey:"spanish"},{code:"fr-FR",nameKey:"french"},{code:"ru-RU",nameKey:"russian"},{code:"it-IT",nameKey:"italian"},{code:"pt-PT",nameKey:"portuguese"},{code:"de-DE",nameKey:"german"},{code:"vi-VN",nameKey:"vietnamese"},{code:"uk-UA",nameKey:"ukrainian"},{code:"tr-TR",nameKey:"turkish"},{code:"id-ID",nameKey:"indonesian"},{code:"ar-SA",nameKey:"arabic"}];function O(){let{t:e}=(0,q.o)(),[a,t]=(0,r.useState)(""),[d,l]=(0,r.useState)("en-US"),[p,u]=(0,r.useState)(1),[m,h]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[v]=(0,r.useState)("aws"),[y]=(0,r.useState)(null),[b,f]=(0,r.useState)(!1),{data:j}=(0,F.wV)(),[w,k]=(0,r.useState)(null),[C,N]=(0,r.useState)(!1),P=(0,G.s)(),Q=async()=>{if(!C)try{N(!0);let t=!1;try{if(!j?.user)return;let s=await fetch("/api/user/plan");if(s.ok){let{permanentQuota:e,temporaryQuota:r,usedCharacters:i,quotaExpiry:n}=(await s.json()).characterQuota;if(e+(n&&new Date(n)>new Date?r:0)-i<a.length)return;t=!0}else console.error(e("quotaCheckFailed"))}catch(a){console.error(e("quotaCheckError"),a)}if(t)try{(await fetch("/api/user/update-quota",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usedCharacters:a.length})})).ok?console.log(`字符配额更新成功，使用字符数: ${a.length}`):console.error(e("updateQuotaFailed"))}catch(a){console.error(e("updateQuotaError"),a)}}catch(a){console.error(e("speechSynthesisError"),a)}finally{N(!1)}},O=async()=>{try{if(!a||!w||!j?.user)return}catch(a){console.error(e("downloadError"),a)}},U=async e=>{let a=e.target.files?.[0];if(a)try{if("text/plain"===a.type||a.name.endsWith(".txt")||a.name.endsWith(".md")){let e=new FileReader;e.onload=e=>{let a=e.target?.result;t(a)},e.readAsText(a)}else"application/pdf"===a.type||a.type.includes("word")||a.name.endsWith(".doc")||a.name.endsWith(".docx")||a.name.endsWith(".rtf")}catch(e){console.error("File upload error:",e)}},B=()=>{y&&(y.audioContext.suspend(),f(!1))},M=()=>{y&&(y.audioContext.resume(),f(!0))};return x?(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsx)(D.j,{}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-4 md:py-8 space-y-4 md:space-y-8",children:(0,s.jsxs)(V.Zp,{className:"backdrop-blur-sm bg-background/80 border-primary/10 shadow-lg",children:[(0,s.jsx)(V.aR,{className:"border-b border-primary/10 pb-4 md:pb-6 flex justify-center items-center",children:(0,s.jsx)(V.ZB,{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent text-center",children:e("title")})}),(0,s.jsx)(V.Wu,{className:"pt-4 md:pt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-8",children:[(0,s.jsxs)(V.Zp,{className:"backdrop-blur-sm bg-background/80 border-primary/10 shadow-md",children:[(0,s.jsx)(V.aR,{className:"space-y-1 md:space-y-2",children:(0,s.jsx)(V.ZB,{className:"text-lg md:text-xl bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:e("serviceSettings")})}),(0,s.jsx)(V.Wu,{className:"space-y-3 md:space-y-4",children:(0,s.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-1.5 md:space-y-2",children:[(0,s.jsx)(A.J,{children:e("speechService")}),(0,s.jsxs)(o.l6,{value:"",children:[(0,s.jsx)(o.bq,{className:"h-9 md:h-10",children:(0,s.jsx)(o.yv,{})}),(0,s.jsxs)(o.gC,{children:[(0,s.jsx)(o.eb,{value:"aws",children:"AWS Polly"}),(0,s.jsx)(o.eb,{value:"minimax",children:"Minimax"}),(0,s.jsx)(o.eb,{value:"openai",children:"OpenAI TTS"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5 md:space-y-2",children:[(0,s.jsx)(A.J,{children:e("selectLanguage")}),(0,s.jsxs)(o.l6,{value:d,onValueChange:e=>{l(e),P.trackEvent("change_language","settings",e)},children:[(0,s.jsx)(o.bq,{className:"h-9 md:h-10",children:(0,s.jsx)(o.yv,{})}),(0,s.jsx)(o.gC,{className:"max-h-[40vh] overflow-y-auto",children:Z.map(a=>(0,s.jsx)(o.eb,{value:a.code,children:e(a.nameKey)},a.code))})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5 md:space-y-2",children:[(0,s.jsx)(A.J,{children:e("voice")}),d&&(0,s.jsx)(J.E,{languageCode:d,onVoiceSelect:k,selectedVoiceId:w?.id,provider:v})]}),(0,s.jsxs)("div",{className:"space-y-1.5 md:space-y-2",children:[(0,s.jsx)(A.J,{children:e("wordByWord")}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:m?e("on"):e("off")}),(0,s.jsx)(S,{checked:m,onCheckedChange:h})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5 md:space-y-2",children:[(0,s.jsxs)(A.J,{children:[e("speed"),": ",p,"x"]}),(0,s.jsx)(c.A,{value:[p],onValueChange:([e])=>u(e),min:.5,max:2,step:.1,className:"py-1"})]})]})})]}),(0,s.jsxs)(V.Zp,{className:"backdrop-blur-sm bg-background/80 border-primary/10 shadow-md",children:[(0,s.jsx)(V.aR,{className:"space-y-1 md:space-y-2",children:(0,s.jsx)(V.ZB,{className:"text-lg md:text-xl bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:e("readText")})}),(0,s.jsxs)(V.Wu,{className:"space-y-3 md:space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.T,{placeholder:e("inputPlaceholder"),className:"min-h-[120px] md:min-h-[200px] bg-background/70 backdrop-blur-sm border-primary/20 focus:border-primary/40 transition-all duration-300 resize-none text-sm md:text-base",value:a}),(0,s.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-muted-foreground",children:[a.length," ",e("characters")]})]}),y&&(0,s.jsx)(W.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"w-full",children:(0,s.jsx)(T.t,{audioContext:y.audioContext,audioSource:y.source,onPause:B,onResume:M,isPlaying:b})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4",children:[(0,s.jsx)(z.Q,{children:(0,s.jsxs)(i.$,{onClick:Q,className:"flex-1 h-9 md:h-10 text-sm bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 transition-all duration-300",children:[(0,s.jsx)(_.A,{className:"mr-2 h-4 w-4"}),e("readText")]})}),y&&(0,s.jsx)(W.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:(0,s.jsx)(z.Q,{children:(0,s.jsx)(i.$,{variant:"outline",size:"icon",onClick:b?B:M,className:"h-9 md:h-10 w-9 md:w-10 border-primary/20 hover:border-primary/40",children:b?(0,s.jsx)(E.A,{className:"h-4 w-4"}):(0,s.jsx)(K.A,{className:"h-4 w-4"})})})}),(0,s.jsx)(z.Q,{children:(0,s.jsxs)(i.$,{variant:"outline",onClick:O,className:"flex-1 h-9 md:h-10 text-sm border-primary/20 hover:border-primary/40 hover:bg-primary/5",children:[(0,s.jsx)(R.A,{className:"mr-2 h-4 w-4"}),e("downloadAudio")]})}),(0,s.jsx)(z.Q,{children:(0,s.jsx)(i.$,{variant:"outline",className:"flex-1 h-9 md:h-10 text-sm border-primary/20 hover:border-primary/40 hover:bg-primary/5",asChild:!0,children:(0,s.jsxs)("label",{children:[(0,s.jsx)(I.A,{className:"mr-2 h-4 w-4"}),e("uploadFile"),(0,s.jsx)("input",{type:"file",className:"hidden",accept:".txt,.md",onChange:U})]})})})]})]})]})]})})]})})]}):null}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35256:(e,a,t)=>{Promise.resolve().then(t.bind(t,20176))},44152:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>u,tree:()=>d});var s=t(97448),r=t(81303),i=t(23375),n=t.n(i),o=t(37440),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(a,c);let d={children:["",{children:["app",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44289)),"D:\\domiai\\domiai-next\\app\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,91066)),"D:\\domiai\\domiai-next\\app\\app\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,90996))).default(e),async e=>(await Promise.resolve().then(t.bind(t,52511))).default(e),async e=>(await Promise.resolve().then(t.bind(t,74921))).default(e)],apple:[async e=>(await Promise.resolve().then(t.bind(t,45914))).default(e)],openGraph:[],twitter:[],manifest:"/manifest.json"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,49510)),"D:\\domiai\\domiai-next\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,26166)),"D:\\domiai\\domiai-next\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,37056,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,12433,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,90996))).default(e),async e=>(await Promise.resolve().then(t.bind(t,52511))).default(e),async e=>(await Promise.resolve().then(t.bind(t,74921))).default(e)],apple:[async e=>(await Promise.resolve().then(t.bind(t,45914))).default(e)],openGraph:[],twitter:[],manifest:"/manifest.json"}}]}.children,l=["D:\\domiai\\domiai-next\\app\\app\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/app/page",pathname:"/app",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},44289:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,dynamic:()=>r});var s=t(40356);let r=(0,s.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\domiai\\domiai-next\\app\\app\\page.tsx","dynamic"),i=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\domiai\\\\domiai-next\\\\app\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\domiai\\domiai-next\\app\\app\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},91066:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i,dynamic:()=>s,metadata:()=>r});let s="force-dynamic",r={title:"VoiceCanvas Studio - Professional AI Voice Synthesis & Voice Cloning Workspace",description:"Create professional-grade voice content with our advanced AI voice synthesis and cloning studio. Features real-time preview, multi-voice support, precise control over speed, pitch, and personalized voice cloning capabilities.",metadataBase:new URL("https://voicecanvas.org"),icons:{icon:"/favicon.ico",shortcut:"/favicon.ico",apple:"/apple-touch-icon.png",other:{rel:"apple-touch-icon-precomposed",url:"/apple-touch-icon-precomposed.png"}},openGraph:{title:"VoiceCanvas Studio - Professional AI Voice Synthesis & Voice Cloning Workspace",description:"Create professional-grade voice content with our advanced AI voice synthesis and cloning studio. Features real-time preview, multi-voice support, precise control over speed, pitch, and personalized voice cloning capabilities.",url:"https://voicecanvas.org/app",siteName:"VoiceCanvas",locale:"en_US",type:"website",images:[{url:"https://voicecanvas.org/images/studio-og.png",width:1200,height:630,alt:"VoiceCanvas Studio - AI Voice Synthesis & Cloning Platform",type:"image/png"}]},twitter:{title:"VoiceCanvas Studio - Professional AI Voice Synthesis & Voice Cloning Workspace",description:"Create professional-grade voice content with our advanced AI voice synthesis and cloning studio. Features real-time preview, multi-voice support, precise control over speed, pitch, and personalized voice cloning capabilities.",card:"summary_large_image",images:{url:"https://voicecanvas.org/images/studio-og.png",alt:"VoiceCanvas Studio - AI Voice Synthesis & Cloning Platform",width:1200,height:630},creator:"@VoiceCanvas",site:"@VoiceCanvas"},other:{"og:image:secure_url":"https://voicecanvas.org/images/studio-og.png","pinterest-rich-pin":"true","fb:app_id":"","article:author":"https://voicecanvas.org","article:publisher":"https://voicecanvas.org"}};function i({children:e}){return e}}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[395,145,771,997,490,317,967,830,690],()=>t(44152));module.exports=s})();